!function(e,t){"use strict";function a(t){t=e.extend({},e.embedplayer.defaults,t);var a={};if(t.origin){e.isArray(t.origin)||(t.origin=[t.origin]);for(var i=0;i<t.origin.length;++i){var n=t.origin[i];/^\/\//.test(n)?a[location.protocol+n]=!0:a[n]=!0}}return t.origin=a,t}function i(i,n){var r=e.data(i,"embedplayer");if(!r){var o=null;if(n){o=a(n);for(var l in o.origin){if(l in e.embedplayer.modules_by_origin)throw new TypeError("already have embedplayer module for origin: "+l);e.embedplayer.modules_by_origin[l]=o}}else for(var s=0;s<e.embedplayer.modules.length;++s){var d=e.embedplayer.modules[s];if(d.matches.call(i)){o=d;break}}if(!o)throw new TypeError("unsupported embed");r={module:o,state:"init",listening:{ready:!1,play:!1,pause:!1,finish:!1,buffering:!1,timeupdate:!1,volumechange:!1,durationchange:!1,error:!1},detail:{}},e.data(i,"embedplayer",r);var u=!1;try{o.init.call(i,r,function(a){r.player_id=a,e.attr(i,"data-embedplayer-id",a===t?"":a)}),u=!0}finally{u||e.removeData(i,"embedplayer")}}return r}e.embedplayer={modules:[],modules_by_origin:{},defaults:{matches:function(){return!1},init:function(e,t){t()},play:function(e){},pause:function(e){},toggle:function(e){"playing"===e.state?e.module.pause.call(this,e):e.module.play.call(this,e)},stop:function(e){e.module.pause(e)},next:function(e){},prev:function(e){},listen:function(e,t){},volume:function(e,t){t(NaN)},duration:function(e,t){t(NaN)},currenttime:function(e,t){t(NaN)},setVolume:function(e,t){},seek:function(e,t){},link:function(e){return null},parseMessage:function(e){},processMessage:function(e,t,a){},origin:[]},register:function(t){t=a(t),e.embedplayer.modules.push(t);for(var i in t.origin){if(i in e.embedplayer.modules_by_origin)throw new TypeError("already have embedplayer module for origin: "+i);e.embedplayer.modules_by_origin[i]=t}},origin:function(e){return/^\/\//.test(e)?location.protocol+"//"+e.split("/")[2]:/^[-_a-z0-9]+:/i.test(e)?/^([-_a-z0-9]+:(?:\/\/)?[^\/]*)/i.exec(e)[1]:location.protocol+"//"+location.host},parseParams:function(e){var t={};if(e){e=e.split("&");for(var a=0;a<e.length;++a){var i=e[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i.slice(1).join("="))}}return t},trigger:function(t,a,i,n){var r=null;switch(i){case"timeupdate":case"volumechange":case"durationchange":case"error":break;case"ready":r="ready";break;case"play":r="playing";break;case"pause":r="paused";break;case"finish":r="finished";break;case"buffering":r="buffering"}if((!r||r!==a.state)&&(null!==r&&(a.state=r),a.listening[i]===!0)){var o=e(t);r&&o.trigger(e.Event("embedplayer:statechange",{state:r})),o.trigger(e.Event("embedplayer:"+i,n))}}},e.fn.embedplayer=function(t,a){switch(0===arguments.length?t="init":1===arguments.length&&"object"==typeof t&&(a=t,t="init"),t){case"init":this.each(function(){i(this,a)});break;case"play":case"pause":case"stop":case"toggle":case"next":case"prev":this.each(function(){var e=i(this,a);e.module[t].call(this,e)});break;case"seek":var n=Number(arguments[1]);this.each(function(){var e=i(this,a);e.module.seek.call(this,e,n)});break;case"listen":var r=arguments.length>1?arguments[1]:["ready","play","pause","finish","buffering","timeupdate","volumechange","durationchange","error"];e.isArray(r)||(r=e.trim(r).split(/\s+/)),this.each(function(){var e=i(this);e.module.listen.call(this,e,r);for(var t=0;t<r.length;++t)e.listening[r[t]]=!0});break;case"volume":if(arguments.length>1&&"function"!=typeof arguments[1]){var o=Number(arguments[1]);this.each(function(){var e=i(this);e.module.setVolume.call(this,e,o)})}else if(0===this.length)(arguments[1]||e.noop)(NaN);else{var l=i(this[0]);l.module.volume.call(this[0],l,arguments[1]||e.noop)}break;case"duration":case"currenttime":if(0===this.length)(arguments[1]||e.noop)(NaN);else{var l=i(this[0]);l.module[t].call(this[0],l,arguments[1]||e.noop)}break;case"link":if(0===this.length)return null;var l=i(this[0]);return l.module.link.call(this[0],l);case"supported":for(var s=0;s<this.length;++s){for(var d=this[s],u=!1,c=0;c<e.embedplayer.modules.length;++c){var m=e.embedplayer.modules[c];if(m.matches.call(d)){u=!0;break}}if(!u)return!1}return this.length>0;default:throw new TypeError("unknown command: "+t)}return this},window.addEventListener("message",function(t){var a=e.embedplayer.modules_by_origin[t.origin];if(a){var n=a.parseMessage(t);if(n)for(var r=("player_id"in n?document.querySelectorAll('iframe[data-embedplayer-id="'+n.player_id+'"]'):document.getElementsByTagName("iframe")),o=0;o<r.length;++o){var l=r[o];if(l.contentWindow===t.source){var s=i(l);s.module.processMessage.call(l,s,n,e.embedplayer.trigger.bind(e.embedplayer,l,s));break}}}},!1)}(jQuery),function(e,t){"use strict";function a(e,t,a,i){var n={method:a};if(arguments.length>3&&(n.value=i),"init"===t.state)t.detail.commands.push(n);else{var r=e.contentWindow;r&&r.postMessage(JSON.stringify(n),t.detail.origin)}}var i={ready:null,play:"play",pause:"pause",finish:"finish",buffering:null,timeupdate:"playProgress",durationchange:"loadProgress",volumechange:"volumechange",error:"error"};e.embedplayer.register({origin:["https://player.vimeo.com","http://player.vimeo.com"],matches:function(){return e.nodeName(this,"iframe")&&/^https?:\/\/player\.vimeo\.com\/video\/\d+.*[\?&]api=1/i.test(this.src)},init:function(t,i){var n=/^https?:\/\/player\.vimeo\.com\/video\/(\d+)[^\?#]*(?:\?(.*))/i.exec(this.src),r=n[1],o=e.embedplayer.parseParams(n[2]);t.detail.duration=NaN,t.detail.currenttime=0,t.detail.commands=[],t.detail.origin=e.embedplayer.origin(this.src),t.detail.video_id=r,t.detail.callbacks={},a(this,t,"ping"),i(o.player_id)},play:function(e){a(this,e,"play")},pause:function(e){a(this,e,"pause")},stop:function(e){a(this,e,"unload")},volume:function(e,t){e.detail.callbacks.getVolume?e.detail.callbacks.getVolume.push(t):e.detail.callbacks.getVolume=[t],a(this,e,"getVolume")},duration:function(e,t){t(e.detail.duration)},currenttime:function(e,t){t(e.detail.currenttime)},setVolume:function(e,t){a(this,e,"setVolume",t)},seek:function(e,t){a(this,e,"seekTo",t)},listen:function(e,t){for(var n={},r=0;r<t.length;++r){var o=i[t[r]];o&&n[o]!==!0&&(n[o]=!0,a(this,e,"addEventListener",o))}},link:function(e){return"https://vimeo.com/"+e.detail.video_id},parseMessage:function(e){var t={data:JSON.parse(e.data)};return"player_id"in t.data&&(t.player_id=t.data.player_id),t},processMessage:function(e,t,i){if("ready"===t.data.event){i("ready"),a(this,e,"getVolume");var n=this.contentWindow;if(n&&e.detail.commands){for(var r=0;r<e.detail.commands.length;++r)n.postMessage(JSON.stringify(e.detail.commands[r]),e.detail.origin);e.detail.commands=null}}else if("playProgress"===t.data.event){if("seconds"in t.data.data){var o=t.data.data.seconds;o!==e.detail.currenttime&&(e.detail.currenttime=o,i("timeupdate",{currentTime:o}))}}else if("timeupdate"===t.data.event){var o=t.data.data.seconds;o!==e.detail.currenttime&&(e.detail.currenttime=o,i("timeupdate",{currentTime:o}))}else if("loadProgress"===t.data.event){if("duration"in t.data.data){var l=t.data.data.duration;l!==e.detail.duration&&(e.detail.duration=l,i("durationchange",{duration:l}))}}else if("play"===t.data.event)i("play");else if("pause"===t.data.event)i("pause");else if("finish"===t.data.event)i("finish");else if("volumechange"===t.data.event)i("volumechange",{volume:t.data.data.volume});else if("error"===t.data.event)i("error",{error:"error",message:t.data.data.message,title:t.data.data.name});else if(t.data.method){var s=e.detail.callbacks[t.data.method];if(s){for(var r=0;r<s.length;++r)s[r].call(this,t.data.value);e.detail.callbacks[t.data.method]=null}"getVolume"===t.data.method&&i("volumechange",{volume:t.data.value})}}})}(jQuery),function(e,t){"use strict";function a(e,t,a){var i={id:t.detail.player_id,event:"command",func:a,args:Array.prototype.slice.call(arguments,3)};if("init"===t.state)t.detail.commands.push(i);else{var n=e.contentWindow;n&&n.postMessage(JSON.stringify(i),t.detail.origin)}}var i={ready:null,play:null,pause:null,finish:null,buffering:null,timeupdate:null,durationchange:null,volumechange:null,error:"onError"},n=1;e.embedplayer.register({origin:"https://www.youtube.com",matches:function(){return e.nodeName(this,"iframe")&&/^https?:\/\/(www\.)?youtube(-nocookie)?\.com\/embed\/[-_a-z0-9]+.*[\?&]enablejsapi=1/i.test(this.src)},init:function(t,a){var i=this;t.detail.player_id=n++,t.detail.origin=/^https?:\/\/(www\.)?youtube-nocookie\.com\//i.test(this.src)?"https://www.youtube-nocookie.com":"https://www.youtube.com",t.detail.duration=NaN,t.detail.currenttime=0,t.detail.volume=1,t.detail.commands=[],t.detail.video_id=/^https?:\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/embed\/([-_a-z0-9]+)/i.exec(this.src)[1],t.detail.timer=setInterval(function(){return e.contains(i.ownerDocument.body,i)?void(i.contentWindow&&i.contentWindow.postMessage(JSON.stringify({event:"listening",id:t.detail.player_id}),t.detail.origin)):(clearInterval(t.detail.timer),void(t.detail.timer=null))},500),a("youtube_"+t.detail.player_id)},play:function(e){a(this,e,"playVideo")},pause:function(e){a(this,e,"pauseVideo")},stop:function(e){a(this,e,"stopVideo")},next:function(e){a(this,e,"nextVideo")},prev:function(e){a(this,e,"previousVideo")},volume:function(e,t){t(e.detail.volume)},duration:function(e,t){t(e.detail.duration)},currenttime:function(e,t){t(e.detail.currenttime)},setVolume:function(e,t){a(this,e,"setVolume",100*t)},seek:function(e,t){a(this,e,"seekTo",t)},listen:function(e,t){for(var n={},r=0;r<t.length;++r){var o=i[t[r]];o&&n[o]!==!0&&(n[o]=!0,a(this,e,"addEventListener",o))}},link:function(e){return"https://www.youtube.com/watch?v="+e.detail.video_id},parseMessage:function(e){var t={data:JSON.parse(e.data)};return t.player_id="youtube_"+t.data.id,t},processMessage:function(e,t,a){if("infoDelivery"===t.data.event){var i=t.data.info;if(i){if("volume"in i){var n;n=i.muted?0:i.volume/100,e.detail.volume!==n&&(e.detail.volume=n,a("volumechange",{volume:n}))}if("playerState"in i)switch(i.playerState){case-1:break;case 0:a("finish");break;case 1:a("play");break;case 2:a("pause");break;case 3:a("buffering");break;case 5:a("pause")}"duration"in i&&i.duration!==e.detail.duration&&(e.detail.duration=i.duration,a("durationchange",{duration:i.duration})),"currentTime"in i&&i.currentTime!==e.detail.currenttime&&(e.detail.currenttime=i.currentTime,a("timeupdate",{currentTime:i.currentTime})),"videoData"in i&&(e.detail.videoData=i.videoData),"availableQualityLevels"in i&&(e.detail.availableQualityLevels=i.availableQualityLevels)}}else if("initialDelivery"===t.data.event)null!==e.detail.timer&&(clearInterval(e.detail.timer),e.detail.timer=null);else if("onReady"===t.data.event){a("ready");var r=this.contentWindow;if(r&&e.detail.commands){for(var o=0;o<e.detail.commands.length;++o)r.postMessage(JSON.stringify(e.detail.commands[o]),e.detail.origin);e.detail.commands=null}}else if("onError"===t.data.event){var l;switch(t.data.info){case 2:l="illegal_parameter";break;case 100:l="not_found";break;case 101:case 150:l="forbidden";break;default:l="error"}a("error",{error:l})}}})}(jQuery),function(e){window.llms=window.llms||{},window.llms.Player=function(t,a){function i(){n=JSON.parse(window.localStorage.getItem("llms")),n||(n={videos:{}});var e=t.embedplayer("link");return n.videos[e]||(n.videos[e]={current_time:0,start_time:null}),n.videos[e]}t.embedplayer("listen");var n,r=this,o={store:!0},l={};if(a=a||{},a=e.extend(o,a),l=i(),this.get=function(e){return l[e]},this.set=function(e,t){return l[e]=t,this},this.save=function(){window.localStorage.setItem("llms",JSON.stringify(n))},a.store){var s=r.get("current_time")-5;s>=5&&t.embedplayer("seek",s).embedplayer("pause"),t.on("embedplayer:play",function(e){r.get("start_time")||r.set("start_time",new Date).save()}),t.on("embedplayer:timeupdate",function(e){console.log(e),r.set("current_time",e.currentTime).save()})}return console.log(a),this}}(jQuery);